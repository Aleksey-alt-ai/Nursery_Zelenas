{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Container,Typography,Box,Chip,Divider}from'@mui/material';import{useParams}from'react-router-dom';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const NewsDetail=()=>{var _news$author;const{id}=useParams();const[news,setNews]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{fetchNews();},[id]);const fetchNews=async()=>{try{const response=await axios.get(\"/api/news/\".concat(id));setNews(response.data);}catch(error){console.error('Error fetching news:',error);}finally{setLoading(false);}};if(loading){return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Typography,{children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"})});}if(!news){return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Typography,{children:\"\\u041D\\u043E\\u0432\\u043E\\u0441\\u0442\\u044C \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u0430\"})});}return/*#__PURE__*/_jsx(Container,{maxWidth:\"md\",children:/*#__PURE__*/_jsxs(Box,{sx:{mt:4,mb:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",component:\"h1\",gutterBottom:true,children:news.title}),/*#__PURE__*/_jsxs(Box,{sx:{mb:3},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",gutterBottom:true,children:[new Date(news.createdAt).toLocaleDateString('ru-RU'),\" \\u2022 \\u0410\\u0432\\u0442\\u043E\\u0440: \",(_news$author=news.author)===null||_news$author===void 0?void 0:_news$author.name]}),news.tags&&news.tags.length>0&&/*#__PURE__*/_jsx(Box,{sx:{mt:1},children:news.tags.map((tag,index)=>/*#__PURE__*/_jsx(Chip,{label:tag,size:\"small\",sx:{mr:1}},index))})]}),news.image&&/*#__PURE__*/_jsx(Box,{sx:{mb:3},children:/*#__PURE__*/_jsx(\"img\",{src:news.image,alt:news.title,style:{width:'100%',maxHeight:'400px',objectFit:'cover',borderRadius:'8px'}})}),/*#__PURE__*/_jsx(Divider,{sx:{my:3}}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",paragraph:true,sx:{lineHeight:1.8},children:news.content})]})});};export default NewsDetail;","map":{"version":3,"names":["React","useState","useEffect","Container","Typography","Box","Chip","Divider","useParams","axios","jsx","_jsx","jsxs","_jsxs","NewsDetail","_news$author","id","news","setNews","loading","setLoading","fetchNews","response","get","concat","data","error","console","children","maxWidth","sx","mt","mb","variant","component","gutterBottom","title","color","Date","createdAt","toLocaleDateString","author","name","tags","length","map","tag","index","label","size","mr","image","src","alt","style","width","maxHeight","objectFit","borderRadius","my","paragraph","lineHeight","content"],"sources":["C:/Users/ИИ/Documents/GitHub/Nursery_Zelenas/client/src/pages/NewsDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Container,\r\n  Typography,\r\n  Box,\r\n  Chip,\r\n  Divider\r\n} from '@mui/material';\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst NewsDetail = () => {\r\n  const { id } = useParams();\r\n  const [news, setNews] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchNews();\r\n  }, [id]);\r\n\r\n  const fetchNews = async () => {\r\n    try {\r\n      const response = await axios.get(`/api/news/${id}`);\r\n      setNews(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching news:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Container>\r\n        <Typography>Загрузка...</Typography>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  if (!news) {\r\n    return (\r\n      <Container>\r\n        <Typography>Новость не найдена</Typography>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container maxWidth=\"md\">\r\n      <Box sx={{ mt: 4, mb: 4 }}>\r\n        <Typography variant=\"h3\" component=\"h1\" gutterBottom>\r\n          {news.title}\r\n        </Typography>\r\n        \r\n        <Box sx={{ mb: 3 }}>\r\n          <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\r\n            {new Date(news.createdAt).toLocaleDateString('ru-RU')} • Автор: {news.author?.name}\r\n          </Typography>\r\n          {news.tags && news.tags.length > 0 && (\r\n            <Box sx={{ mt: 1 }}>\r\n              {news.tags.map((tag, index) => (\r\n                <Chip key={index} label={tag} size=\"small\" sx={{ mr: 1 }} />\r\n              ))}\r\n            </Box>\r\n          )}\r\n        </Box>\r\n\r\n        {news.image && (\r\n          <Box sx={{ mb: 3 }}>\r\n            <img \r\n              src={news.image} \r\n              alt={news.title}\r\n              style={{ \r\n                width: '100%', \r\n                maxHeight: '400px', \r\n                objectFit: 'cover',\r\n                borderRadius: '8px'\r\n              }}\r\n            />\r\n          </Box>\r\n        )}\r\n\r\n        <Divider sx={{ my: 3 }} />\r\n\r\n        <Typography variant=\"body1\" paragraph sx={{ lineHeight: 1.8 }}>\r\n          {news.content}\r\n        </Typography>\r\n      </Box>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default NewsDetail; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}